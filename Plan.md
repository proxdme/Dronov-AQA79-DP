# План автоматизации тестирования веб-сервиса покупки туров
## 1. Перечень автоматизируемых сценариев:
### Позитивные сценарии:
#### ***Успешная покупка тура с оплатой по дебетовой карте***
##### Пользователь вводит корректные данные дебетовой карты:
- номер карты из списка 4441
- действующая по сроку карта - период дат от текущей даты не старше 6 лет например 05/25
- владелец карты - введены Имя и Фамилия через пробел на латинице например Ivan Ivanov
- код CVC из цифр в формате ХХХ например 123.
  
Проверка успешного совершения платежа.\
Подтверждение сохранения информации о платеже в СУБД.

#### ***Успешная покупка тура с оплатой через кредитный сервис***
##### Пользователь вводит корректные данные банковской карты для кредита:
 - номер карты из списка 4441, 
 - действующая по сроку карта - период дат от текущей даты не старше 6 лет например 05/25,
 - Владелец карты - введены Имя и Фамилия через пробел на латинице например Ivan Ivanov,
 - CVC код из цифр в формате ХХХ например 123).
   
Проверка успешного совершения платежа через кредитный сервис.\
Подтверждение сохранения информации о платеже в СУБД.

### Негативные сценарии:

#### ***Неуспешная покупка тура с оплатой по дебетовой отклоненной карте***
Ввод данных карты номер 4442, отклоненной банком.\
Ожидаемое сообщение об ошибке на экране.\
Проверка отсутствия записи об успешной покупке в СУБД.

#### ***Неуспешная покупка тура с оплатой через кредитный сервис отклоненной картой***
Ввод данных карты номер 4442, отклоненной банком.\
Ожидаемое сообщение об ошибке на экране.\
Проверка отсутствия записи об успешной покупке в СУБД.

#### ***Неуспешная покупка тура с оплатой по дебетовой карте не из списка***
Ввод данных карты например 4443, не из списка.\
Ожидаемое сообщение об ошибке на экране.\
Проверка отсутствия записи об успешной покупке в СУБД.

#### ***Неуспешная покупка тура с оплатой через кредитный сервис картой не из списка***
Ввод данных карты например 4443, не из списка.\
Ожидаемое сообщение об ошибке на экране.\
Проверка отсутствия записи об успешной покупке в СУБД.

#### ***Неуспешная покупка тура с оплатой по дебетовой карте из-за неверных данных карты (валидация):***
#### Пользователь вводит некорректные данные дебетовой карты:

***номер карты:***
1. номер карты короче 16 символов (например 4444 4444 4441):\
   Ввод данных карты короче 16 символов.\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).\
2. пустое поле номера карты:\
   Пустое поле ввода номера карты.\
   Переход на следующее поле формы (месяц)\
   Ожидаемое сообщение об ошибке на экране (Поле обязательно для заполнения).
   
***месяц:***
1. ввод месяца больше 12 (например 13)
   Ввод данных карты в поле месяц больше 12.\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).\
2. пустое поле месяца
   Пустое поле ввода месяца.\
   Переход на следующее поле формы (год)\
   Ожидаемое сообщение об ошибке на экране (Поле обязательно для заполнения).\
3. ввод месяца в неверном формате (ХХ, например вместо 04 - 4)
   Пустое поле ввода номера карты.\
   Переход на следующее поле формы (месяц)\
   Ожидаемое сообщение об ошибке на экране (Поле обязательно для заполнения).
   
***год:***
1. ввод значения года меньше текущего (дата из прошедшего периода например 05/23):\
   Ввод данных года меньше текущего.\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).\
2. ввод года на 7 лет вперед от текущего (слишком далеко в будущее например 05/35):\
   Ввод данных года значительно больше текущего.\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).\
3. пустое поле знаечения года:\
   Пустое поле ввода номера карты.\
   Переход на следующее поле формы (месяц)\
   Ожидаемое сообщение об ошибке на экране (Поле обязательно для заполнения).
   
***Владелец:***
1. поле Владелец заполнено не на латинице (например ввод на русском например Иван Иванов):\
   Ввод в поле Владелец данных на русском языке.\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).\
2. поле Владелец пусто:\
   Пустое поле ввода Владельца.\
   Переход на следующее поле формы (CVC).\
   Ожидаемое сообщение об ошибке на экране (Незаполненое поле).\
3. поле Владелец заполнено с применением спец символов и цифр (например Ivan_Ivanov):\
   Ввод данных Владельца с использованием спец символов.\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).\
4. поле Владелец заполнено не полностью (Имя или фамилия например Ivanov):\
   Ввод данных Владельца только фамилия.\
   Переход на следующее поле формы (CVC).\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).
   
***CVC:***
1. поле CVC пусто:\
   Пустое поле ввода CVC.\
   Нажатие кнопки "Продолжить".\
   Ожидаемое сообщение об ошибке на экране с указанием поля (Неверный формат).\
2. поле CVC заполнено не полностью (ХХХ формат например 12):\
   Ввод CVC карты не полностью.\
   Нажатие кнопки "Продолжить".\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).

#### ***Неуспешная покупка тура с оплатой через кредитный сервис из-за неверных данных карты (валидация):***

#### Пользователь вводит некорректные данные дебетовой карты:

***номер карты:***
1. номер карты короче 16 символов (например 4444 4444 4441):\
   Ввод данных карты короче 16 символов.\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).\
2. пустое поле номера карты:\
   Пустое поле ввода номера карты.\
   Переход на следующее поле формы (месяц)\
   Ожидаемое сообщение об ошибке на экране (Поле обязательно для заполнения).
   
***месяц:***
1. ввод месяца больше 12 (например 13)
   Ввод данных карты в поле месяц больше 12.\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).\
2. пустое поле месяца
   Пустое поле ввода месяца.\
   Переход на следующее поле формы (год)\
   Ожидаемое сообщение об ошибке на экране (Поле обязательно для заполнения).\
3. ввод месяца в неверном формате (ХХ, например вместо 04 - 4)
   Пустое поле ввода номера карты.\
   Переход на следующее поле формы (месяц)\
   Ожидаемое сообщение об ошибке на экране (Поле обязательно для заполнения).
   
***год:***
1. ввод значения года меньше текущего (дата из прошедшего периода например 05/23):\
   Ввод данных года меньше текущего.\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).\
2. ввод года на 7 лет вперед от текущего (слишком далеко в будущее например 05/35):\
   Ввод данных года значительно больше текущего.\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).\
3. пустое поле знаечения года:\
   Пустое поле ввода номера карты.\
   Переход на следующее поле формы (месяц)\
   Ожидаемое сообщение об ошибке на экране (Поле обязательно для заполнения).
   
***Владелец:***
1. поле Владелец заполнено не на латинице (например ввод на русском например Иван Иванов):\
   Ввод в поле Владелец данных на русском языке.\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).\
2. поле Владелец пусто:\
   Пустое поле ввода Владельца.\
   Переход на следующее поле формы (CVC).\
   Ожидаемое сообщение об ошибке на экране (Незаполненое поле).\
3. поле Владелец заполнено с применением спец символов и цифр (например Ivan_Ivanov):\
   Ввод данных Владельца с использованием спец символов.\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).\
4. поле Владелец заполнено не полностью (Имя или фамилия например Ivanov):\
   Ввод данных Владельца только фамилия.\
   Переход на следующее поле формы (CVC).\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).
   
***CVC:***
1. поле CVC пусто:\
   Пустое поле ввода CVC.\
   Нажатие кнопки "Продолжить".\
   Ожидаемое сообщение об ошибке на экране с указанием поля (Неверный формат).\
2. поле CVC заполнено не полностью (ХХХ формат например 12):\
   Ввод CVC карты не полностью.\
   Нажатие кнопки "Продолжить".\
   Ожидаемое сообщение об ошибке на экране (Неверный формат).

#### ***Неуспешная покупка тура с оплатой через кредитный сервис из-за отказа в кредите***
Пользователь вводит корректные данные банковской карты для кредита, но кредит не одобрен.\
Проверка ошибки и получения соответствующего сообщения от Credit Gate.\
Подтверждение отсутствия информации о платеже в СУБД.

## 2. Перечень используемых инструментов с обоснованием выбора:
*Selenium WebDriver* - для автоматизации взаимодействия с веб-интерфейсом.
Позволяет имитировать действия пользователя и проверять поведение интерфейса.\
*JUnit/TestNG* - для написания и управления тестами.\
*Docker и Docker Compose* - для запуска контейнеров с MySQL, PostgreSQL и эмулятором банковских сервисов.\
*Allure Report* - для генерации отчетов о тестировании.
Удобное и наглядное представление результатов тестирования.

## 3. Перечень и описание возможных рисков при автоматизации:
1. Нестабильность эмулятора банковских сервисов - может привести к ложным результатам тестов.
2. Изменения в структуре БД - могут потребовать изменения в тестах.
3. Сетевые проблемы - могут вызывать временную недоступность сервисов.

## 4. Интервальная оценка с учетом рисков в часах:
+ Разработка тестовых сценариев: 10 часов.
+ Настройка окружения (Docker, контейнеры): 8 часов.
+ Написание автотестов (Selenium): 24 часов.
+ Запуск и отладка тестов: 12 часов.
+ Подготовка отчетов (Allure Report): 8 часов.
+ Резервное время на устранение рисков и проблемы: 16 часов.
  
**Итого: 78 часов**

## 5. План сдачи работ:
День 1-2: Разработка тестовых сценариев и настройка окружения.\
День 3-7: Написание автотестов.\
День 8: Запуск и отладка тестов.\
День 9: Подготовка отчетов.\
День 10-11: Резервный день для устранения проблем и завершения работ.

**Итоговые отчеты:**

Дата сдачи автотестов: День 7\
Дата сдачи результатов прогона тестов: День 8\
Дата сдачи итогового отчета по автоматизации: День 9
